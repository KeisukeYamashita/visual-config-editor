(this["webpackJsonpvisual-config-editor"]=this["webpackJsonpvisual-config-editor"]||[]).push([[0],{74:function(e,t,r){},75:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(15),o=r.n(c),s=r(6),i=r(28),l=r(4),d=Object(s.d)(),u=d.useStoreActions,b=(d.useStoreDispatch,d.useStoreState),j=r(1),m=function(){var e,t=b((function(e){return e.inspecting})),r=u((function(e){return e.inspect})),n=t.dataType,a=u((function(e){return(null===n||void 0===n?void 0:n.store.add(e))||e.error})),c=b((function(e){return e.definitions}));return Object(j.jsx)("div",{className:"creating"!==(null===t||void 0===t?void 0:t.mode)?"hidden":"absolute w-full h-full flex items-center justify-center bg-opacity-75 bg-black z-50 transition-all",children:Object(j.jsxs)("div",{className:"bg-circle-gray-100 rounded-lg w-max ",children:[Object(j.jsxs)("div",{className:"w-full h-14 bg-circle-green rounded-t-lg float-left p-2 mb-2",children:[Object(j.jsxs)("h1",{className:"float-left ml-2 mt-1 text-white font-semibold text-2xl mr-4",children:["Create New ",null===t||void 0===t||null===(e=t.dataType)||void 0===e?void 0:e.name.singular]}),Object(j.jsx)("button",{onClick:function(){return r({mode:"none"})},className:"pl-2 mt-1 pr-2 rounded-full float-right text-none text-2xl transition-colors hover:bg-circle-red",children:"X"})]}),Object(j.jsx)("div",{className:"p-3",children:function(){if(n)return Object(j.jsx)(l.d,{initialValues:n.defaults,enableReinitialize:!0,onSubmit:function(e){a(n.transform(e)),r({mode:"none",data:void 0,dataType:void 0})},children:n.components.inspector(c)})}()})]})})},f=r(5),p=r(3),x=function(e){var t={docker:function(){return new f.executor.DockerExecutor(e.executor.image.image||"cimg/base:stable",e.executor.resourceClass)},machine:function(){return new f.executor.MachineExecutor(e.executor.resourceClass,e.executor.image||"cimg/base:latest")},macos:function(){return new f.executor.MacOSExecutor(e.executor.xcode,e.executor.resourceClass)},windows:function(){return new f.executor.WindowsExecutor(e.executor.image,e.executor.resourceClass)}};return{name:e.name,executor:t[e.type](),type:"docker"}},h={type:"executor",name:{singular:"Executor",plural:"Executors"},defaults:{name:"New Executor",type:"docker",executor:{image:{image:"cimg/base:stable"}}},transform:x,store:{get:function(e){return e.definitions.executors},add:function(e){return e.defineExecutor},update:function(e){return e.updateExecutor},remove:function(e){return e.undefineExecutor}},dragTarget:"job",applyToNode:function(e,t){var r=t.job;return{job:new f.Job(r.name,x(Object(p.a)({},e)).executor,r.steps)}},components:{icon:function(e){return Object(j.jsx)("svg",{viewBox:"0 0 96 96",className:e.className,children:Object(j.jsxs)("g",{id:"Layer_1","data-name":"Layer 1",children:[Object(j.jsx)("path",{d:"M85.93,30h-76a6,6,0,0,1-6-6V12a6,6,0,0,1,6-6h76a6,6,0,0,1,6,6V24A6,6,0,0,1,85.93,30Zm-76-20a2,2,0,0,0-2,2V24a2,2,0,0,0,2,2h76a2,2,0,0,0,2-2V12a2,2,0,0,0-2-2Z"}),Object(j.jsx)("path",{d:"M85.93,90h-76a6,6,0,0,1-6-6V72a6,6,0,0,1,6-6h76a6,6,0,0,1,6,6V84A6,6,0,0,1,85.93,90Zm-76-20a2,2,0,0,0-2,2V84a2,2,0,0,0,2,2h76a2,2,0,0,0,2-2V72a2,2,0,0,0-2-2Z"}),Object(j.jsx)("path",{d:"M85.93,60h-76a6,6,0,0,1-6-6V42a6,6,0,0,1,6-6h76a6,6,0,0,1,6,6V54A6,6,0,0,1,85.93,60Zm-76-20a2,2,0,0,0-2,2V54a2,2,0,0,0,2,2h76a2,2,0,0,0,2-2V42a2,2,0,0,0-2-2Z"}),Object(j.jsx)("circle",{cx:"19.93",cy:"18",r:"4"}),Object(j.jsx)("circle",{cx:"19.93",cy:"48",r:"4"}),Object(j.jsx)("circle",{cx:"19.93",cy:"78",r:"4"}),Object(j.jsx)("path",{d:"M77.93,20h-48a2,2,0,0,1,0-4h48a2,2,0,0,1,0,4Z"}),Object(j.jsx)("path",{d:"M77.93,50h-48a2,2,0,0,1,0-4h48a2,2,0,0,1,0,4Z"}),Object(j.jsx)("path",{d:"M77.93,80h-48a2,2,0,0,1,0-4h48a2,2,0,0,1,0,4Z"})]})})},summary:function(e){return Object(j.jsxs)("div",{children:[e.data.name," ",e.data.executor.resourceClass]})},inspector:function(e){return function(e){var t,r,n,a=e.values,c=e.handleChange,o=e.handleSubmit,s={docker:{name:"Docker",resourceClasses:["small","medium","medium+","large","xlarge","2xlarge","2xlarge+"],fields:Object(j.jsxs)("div",{children:["Image:"," ",Object(j.jsx)(l.a,{required:!0,name:"executor.image.image",className:"p-1 w-full border-circle-light-blue border-2 rounded"})]})},machine:{name:"Machine",resourceClasses:["medium","large","xlarge","2xlarge"],fields:Object(j.jsxs)("div",{children:["Image:"," ",Object(j.jsx)(l.a,{required:!0,name:"executor.image",className:"p-1 w-full border-circle-light-blue border-2 rounded"})]})},macos:{name:"MacOS",resourceClasses:["medium","large"],fields:Object(j.jsxs)("div",{children:["Xcode:"," ",Object(j.jsx)(l.a,{required:!0,name:"executor.xcode",className:"p-1 w-full border-circle-light-blue border-2 rounded"})]})},windows:{name:"Windows",resourceClasses:["medium","large","xlarge","2xlarge"],fields:Object(j.jsxs)("div",{children:["Image:"," ",Object(j.jsx)(l.a,{required:!0,name:"executor.image",className:"p-1 w-full border-circle-light-blue border-2 rounded"})]})}};return Object(j.jsxs)(l.c,{onSubmit:o,children:["Name:"," ",Object(j.jsx)(l.a,{name:"name",required:!0,className:"p-1 w-full border-circle-light-blue border-2 rounded",value:a.name}),Object(j.jsx)("br",{}),"Executor Type:"," ",Object(j.jsx)(l.a,{name:"type",required:!0,className:"p-1 w-full border-circle-light-blue border-2 rounded",as:"select",children:Object.keys(s).map((function(e){return Object(j.jsx)("option",{value:e,children:s[e].name},e)}))}),Object(j.jsx)("br",{}),"Resource Class:"," ",Object(j.jsx)(l.a,{as:"select",name:"executor.resourceClass",className:"p-1 w-full border-circle-light-blue border-2 rounded",onChange:c,children:null===(t=s[a.type])||void 0===t||null===(r=t.resourceClasses)||void 0===r?void 0:r.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))}),Object(j.jsx)("br",{}),null===(n=s[a.type])||void 0===n?void 0:n.fields,Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"submit",className:"p-1 font-bold w-full text-white border-circle-gray-300 bg-circle-blue rounded-lg",children:"Save"})]})}}}},O=function(e){return function(t){var r,n=t.values,a=(t.handleChange,t.handleBlur,t.handleSubmit),c={none:{text:"Select a command type",fields:Object(j.jsx)("div",{hidden:!0})},run:{text:"Run a command",summary:function(e){return Object(j.jsx)("p",{className:"inline",children:e.parameters.command})},fields:Object(j.jsxs)("div",{children:["Command"," ",Object(j.jsx)(l.a,{required:!0,name:"step.parameters.command",className:"p-1 w-full border-circle-light-blue border-2 rounded"}),Object(j.jsx)("br",{}),"Shell"," ",Object(j.jsx)(l.a,{name:"step.parameters.shell",className:"p-1 w-full border-circle-gray-300 border-2 rounded"}),Object(j.jsx)("br",{}),"Background"," ",Object(j.jsx)(l.a,{type:"checkbox",name:"step.parameters.background",className:"p-1 border-circle-gray-300 border-2 rounded"}),Object(j.jsx)("br",{}),"Working Directory"," ",Object(j.jsx)(l.a,{name:"step.parameters.working_directory",className:"p-1 w-full border-circle-gray-300 border-2 rounded"}),Object(j.jsx)("br",{}),"No Output Timeout:"," ",Object(j.jsx)(l.a,{name:"step.parameters.no_output_timeout",className:"p-1 w-full border-circle-gray-300 border-2 rounded"}),Object(j.jsx)("br",{}),"When"," ",Object(j.jsxs)(l.a,{as:"select",name:"step.parameters.when",className:"p-1 w-full border-circle-gray-300 border-2 rounded",children:[Object(j.jsx)("option",{value:"always",children:"Always"}),Object(j.jsx)("option",{value:"on_success",children:"On Success"}),Object(j.jsx)("option",{value:"on_fail",children:"On Fail"})]})]}),generate:function(){return new f.commands.Run(Object(p.a)({},n.step.parameters))}},checkout:{text:"Checkout",fields:Object(j.jsxs)("div",{children:["Path:"," ",Object(j.jsx)(l.a,{name:"step.parameters.path",className:"p-1 w-full border-circle-gray-300 border-2 rounded"})]}),generate:function(){return new f.commands.Checkout(Object(p.a)({},n.step.parameters))}},persist_to_workspace:{text:"Persist To Workspace",fields:Object(j.jsxs)("div",{children:["Root:"," ",Object(j.jsx)(l.a,{required:!0,name:"step.parameters.root",className:"p-1 w-full border-circle-light-blue border-2 rounded"}),Object(j.jsx)("br",{}),"Path:"," ",Object(j.jsx)(l.a,{required:!0,name:"step.parameters.path",className:"p-1 w-full border-circle-light-blue border-2 rounded"})]}),generate:function(){return new f.commands.workspace.Persist({root:n.step.parameters.root,paths:[n.step.parameters.path]})}},attach_workspace:{text:"Attach Workspace",fields:Object(j.jsxs)("div",{children:["At:"," ",Object(j.jsx)(l.a,{required:!0,name:"step.parameters.at",className:"p-1 w-full border-circle-light-blue border-2 rounded"})]}),generate:function(){return new f.commands.workspace.Attach(Object(p.a)({},n.step.parameters))}},store_artifacts:{text:"Store Artifacts",fields:Object(j.jsxs)("div",{children:["Path:"," ",Object(j.jsx)(l.a,{required:!0,name:"step.parameters.path",className:"p-1 w-full border-circle-light-blue border-2 rounded"}),Object(j.jsx)("br",{}),"Destination:"," ",Object(j.jsx)(l.a,{name:"step.parameters.destination",className:"p-1 w-full border-circle-gray-300 border-2 rounded"})]}),generate:function(){return new f.commands.StoreArtifacts(Object(p.a)({},n.step.parameters))}},store_test_results:{text:"Store Test Results",fields:Object(j.jsxs)("div",{children:["Path"," ",Object(j.jsx)(l.a,{required:!0,name:"step.parameters.path",className:"p-1 w-full border-circle-light-blue border-2 rounded"})]}),generate:function(){return new f.commands.StoreTestResults(Object(p.a)({},n.step.parameters))}},save_cache:{text:"Save Cache",fields:Object(j.jsxs)("div",{children:["Path"," ",Object(j.jsx)(l.a,{required:!0,name:"step.parameters.path",className:"p-1 w-full border-circle-light-blue border-2 rounded"}),Object(j.jsx)("br",{}),"Key"," ",Object(j.jsx)(l.a,{required:!0,name:"step.parameters.key",className:"p-1 w-full border-circle-light-blue border-2 rounded"}),Object(j.jsx)("br",{}),"When"," ",Object(j.jsxs)(l.a,{as:"select",name:"step.parameters.when",children:[Object(j.jsx)("option",{value:"always",children:"Always"}),Object(j.jsx)("option",{value:"on_success",children:"On Success"}),Object(j.jsx)("option",{value:"on_fail",children:"On Fail"})]})]}),generate:function(){return new f.commands.cache.Save({paths:[n.step.parameters.path],key:n.step.parameters.key,when:n.step.parameters.when})}}},o=function(e){var t=c[n.newCommandType||"none"].generate;if(t)return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"text-lg m-2 pl-4 border-b-4 border-circle-gray-400 mx-auto",children:"Configure Command Parameters"}),c[n.newCommandType].fields,Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"button",className:"px-2 py-0 font-bold text-white w-full bg-circle-blue rounded-lg",onClick:function(){var r=t();n.step={parameters:{}},n.newCommandType="none",e.push(r)},children:"Add Step"})]})};return Object(j.jsxs)(l.c,{onSubmit:a,children:["Name"," ",Object(j.jsx)(l.a,{className:"p-1 w-full border-circle-blue-light border-2 rounded",name:"name",value:n.name}),Object(j.jsx)("br",{}),"Executor"," ",Object(j.jsxs)(l.a,{name:"executor",className:"p-1 w-full border-circle-blue-light border-2 rounded",as:"select",children:[Object(j.jsx)("option",{value:"undefined",children:"Select Executor"},"undefined"),null===(r=e.executors)||void 0===r?void 0:r.map((function(e){return Object(j.jsx)("option",{value:JSON.stringify(e),children:e.name},e.name)}))]}),Object(j.jsx)(l.b,{name:"steps",render:function(e){var t;return Object(j.jsxs)("div",{children:[null===(t=n.steps)||void 0===t?void 0:t.map((function(e){var t=c[e.name].summary;return t?Object(j.jsxs)("div",{children:[e.name,": ",t(e)]}):Object(j.jsx)("div",{children:e.name})})),"Add Step"," ",Object(j.jsx)(l.a,{as:"select",name:"newCommandType",className:"p-1 w-full border-circle-gray-300 border-2 rounded",children:Object.keys(c).map((function(e){return Object(j.jsx)("option",{value:e,children:c[e].text},e)}))}),o(e)]})}}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"submit",className:"p-1 font-bold w-full text-white border-circle-gray-300 bg-circle-blue rounded-lg",children:"Save"})]})}},g=r(8),v=function(e){return Object(j.jsx)("svg",{viewBox:"0 0 24 24",className:e.className,children:Object(j.jsx)("path",{d:"M12.458388,3 C17.7284428,3 22,7.25487688 22,12.5009275 C22,17.7469783 17.7286827,22 12.458388,22 C9.24779218,22 6.40748266,20.4195905 4.67890641,17.9975161 L4.51046025,18 C5.52650577,18 6.4784703,17.7267799 7.29630887,17.2500927 C8.5797622,18.6332003 10.4175246,19.5 12.4581919,19.5 C16.3422622,19.5 19.4895397,16.3667214 19.4895397,12.5010252 C19.4895397,8.63532901 16.3417423,5.5 12.4581919,5.5 C10.4182181,5.5 8.58077831,6.36686635 7.29682565,7.75083018 C6.52574446,7.30040157 5.63375878,7.03136434 4.68109466,7.00257493 C6.40892952,4.58026814 9.24869152,3 12.458388,3 Z M12.4596333,9.00000001 C14.4011972,9.00000001 15.9748954,10.5675188 15.9748954,12.5003076 C15.9748954,14.4330964 14.4012513,16 12.4596333,16 C11.2973265,16 10.266758,15.437833 9.62706371,14.5716975 C9.88962048,13.931837 10.0334728,13.2326478 10.0334728,12.5 C10.0334728,11.767055 9.88950371,11.0675956 9.62819064,10.4281361 C10.2669454,9.56228031 11.2974499,9.00000001 12.4596333,9.00000001 Z M4.50987191,10 C5.89718507,10 7.0209205,11.1200937 7.0209205,12.5002929 C7.0209205,13.8804921 5.89718507,15 4.50987191,15 C3.12373543,15 2,13.8804921 2,12.5002929 C2,11.1200937 3.12373543,10 4.50987191,10 Z"})})},w={type:"job",name:{singular:"Job",plural:"Jobs"},defaults:{name:"New Job",executor:void 0,steps:[],step:{parameters:{}}},transform:function(e){return new f.Job(e.name,h.transform(Object(p.a)({},JSON.parse(e.executor))).executor,e.steps)},store:{get:function(e){return e.definitions.jobs},add:function(e){return e.defineJob},update:function(e){return e.updateJob},remove:function(e){return e.undefineJob}},dragTarget:"workflow",node:{type:"job",transform:function(e){return{job:e}},component:function(e){var t,r=b((function(e){return e.workflows[e.selectedWorkflow].elements})),n=u((function(e){return e.setWorkflowElements})),a=u((function(e){return e.updateJob})),c=function(e,t){return r.map((function(r){return Object(g.g)(r)&&r.data.job.name===e.job.name?Object(p.a)(Object(p.a)({},r),{},{data:Object(p.a)(Object(p.a)({},e),t)}):r}))},o=function(t){var a,o=null===(a=r.find((function(e){return e.id===t.target})))||void 0===a?void 0:a.data;n(Object(g.e)(Object(p.a)(Object(p.a)({},t),{},{animated:!1,style:{stroke:"#A3A3A3",strokeWidth:"2px"}}),c(o,{parameters:{requires:[e.data.job.name]}})))};return Object(j.jsxs)("div",{className:"p-3 bg-white text-black rounded-md border border-circle-gray-300",onDragOver:function(e){e.dataTransfer.types.includes("job")&&e.preventDefault()},onDrop:function(t){if(t.dataTransfer.types.includes("job")){var r=JSON.parse(t.dataTransfer.getData("job")),n=N(r.type);if(r&&(null===n||void 0===n?void 0:n.applyToNode)){var o=n.applyToNode(r.data,e.data);"job"in o&&a({old:e.data.job,new:o.job}),"parameters"in o&&c(e.data,o)}}},children:[Object(j.jsx)(g.c,{type:"target",isConnectable:!0,onConnect:o,position:g.d.Left,style:{borderRadius:0}}),Object(j.jsxs)("div",{className:"flex w-40",children:[Object(j.jsx)(v,{className:"w-6 h-6 mr-2"}),(null===(t=e.data.parameters)||void 0===t?void 0:t.name)||e.data.job.name]}),Object(j.jsx)(g.c,{type:"source",position:g.d.Right,onConnect:o,isConnectable:!0})]})}},components:{icon:v,summary:function(e){return Object(j.jsx)("div",{children:e.data.name})},inspector:O}},y=[{type:"executor",component:[f.executor.DockerExecutor,f.executor.MacOSExecutor,f.executor.MachineExecutor,f.executor.WindowsExecutor],dataType:h},{type:"job",component:[f.Job],dataType:w}],N=function(e){var t=void 0;return y.forEach((function(r){"string"!==typeof e||r.type!==e?r.component.forEach((function(n){e instanceof n&&(t=r.dataType)})):t=r.dataType})),t},C=r(36),k=r.n(C),T=function(e){var t=e.type.components.summary,r=u((function(e){return e.inspect}));return Object(j.jsx)("button",{className:"w-full p-3 cursor-pointer text-left pl-10 text-circle-black bg-white border border-circle-gray-300 rounded-md",draggable:"true",onDragStart:function(t){var r=e.type;if(null===r||void 0===r?void 0:r.dragTarget){var n,a,c=e.data;(null===(n=r.node)||void 0===n?void 0:n.transform)&&(c=r.node.transform(c)),t.dataTransfer.setData(r.dragTarget,JSON.stringify({type:(null===(a=r.node)||void 0===a?void 0:a.type)||r.type,data:c}))}},onClick:function(t){r({mode:"editing",data:e.data,dataType:e.type})},children:Object(j.jsx)(t,{data:e.data})})},S=function(e){var t=b(e.type.store.get),r=u((function(e){return e.inspect}));return Object(j.jsx)("div",{className:"mb-4",children:Object(j.jsxs)(k.a,{triggerClassName:"text-circle-black shadow-md text-2xl hover:bg-circle-gray-100 p-2 block border border-circle-gray-300 bg-white duration:50 transition-all w-full rounded-md",triggerOpenedClassName:"block border border-circle-gray-300 text-2xl p-2 shadow-md text-circle-black bg-white w-full transition rounded-t-md",transitionTime:50,trigger:Object(j.jsxs)("div",{className:"flex ",children:[function(){var t=e.type.components.icon;if(t){var r=t;return Object(j.jsx)(r,{className:"ml-1 mr-3 w-8 h-8"})}}(),Object(j.jsx)("p",{className:"self-center",children:e.type.name.plural})]}),children:[null===t||void 0===t?void 0:t.map((function(t){return Object(j.jsx)("div",{className:"w-full p-2 bg-circle-gray-200",children:Object(j.jsx)(T,{data:t,type:e.type})},t.name)})),Object(j.jsx)("div",{className:"w-full p-2",children:Object(j.jsxs)("button",{onClick:function(){return r({dataType:e.type,mode:"creating"})},className:"p-1 w-full rounded-md text-white text-xl transition-colors hover:bg-circle-blue-light bg-circle-blue",children:["Create ",e.type.name.singular]})})]})})},E=function(){var e=b((function(e){return e.inspecting})),t=e.dataType,r=u((function(e){return(null===t||void 0===t?void 0:t.store.update(e))||e.error})),n=b((function(e){return e.definitions}));return e&&e.dataType&&"editing"===e.mode?Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"flex border-b border-circle-gray-300 m-2 mb-0",children:Object(j.jsx)("h1",{className:"border-b-4 text-xl pb-2 pl-2 pr-2 w-max font-bold text-circle-black text-center border-circle-gray-500",children:"INSPECTOR"})}),Object(j.jsx)("div",{className:"p-5 overflow-y-scroll",children:function(){if(t)return Object(j.jsx)(l.d,{initialValues:Object(p.a)(Object(p.a)({},t.defaults),e.data),enableReinitialize:!0,onSubmit:function(n){r({old:e.data,new:t.transform(n)})},children:t.components.inspector(n)})}()})]}):Object(j.jsx)("div",{hidden:!0})},W=function(){var e=b((function(e){return e.definitions})),t=b((function(e){return e.workflows})),r=u((function(e){return e.generateConfig}));return Object(j.jsxs)("div",{className:"h-full w-full pt-4 bg-circle-gray-200 flex flex-col overflow-y-auto",children:[Object(j.jsx)("div",{className:"flex border-b border-circle-gray-300 m-2",children:Object(j.jsx)("h1",{className:"border-b-4 text-xl pl-4 pr-4 pb-2 w-max font-bold text-circle-black text-center border-circle-gray-500",children:"CONFIG DEFINITIONS"})}),Object(j.jsx)("div",{className:"flex-1 h-full flex-col p-5 ",children:Object(j.jsx)("div",{className:"overflow-y-auto h-full mb-6 rounded-lg",children:y.map((function(e){var t=e.dataType;return Object(j.jsx)(S,{type:t},t.name.plural)}))})}),Object(j.jsx)(E,{}),Object(j.jsxs)("header",{className:"bg-circle-blue p-2 text-center m-auto text-white w-full rounded-lg",children:[Object(j.jsx)("h1",{children:"Visual Config Editor alpha preview 0.1.0 - Features are subject to changes"}),Object(j.jsxs)("h1",{children:["Find a bug or have any feedback? Please submit an"," ",Object(j.jsx)("i",{children:Object(j.jsx)("a",{href:"https://github.com/CircleCI-Public/visual-config-editor/issues",children:"issue"})})," ","on our GitHub repository."]})]}),Object(j.jsx)("div",{className:"flex border-b border-circle-gray-300 mt-0 m-2"}),Object(j.jsx)("button",{className:"text-gray-100 text-2xl p-2 m-6 bg-circle-blue duration:50 transition-all rounded-lg",onClick:function(n){return function(){var n,a=new f.Config(!1,[],e.workflows,e.commands);null===(n=e.jobs)||void 0===n||n.forEach((function(e){a.addJob(e)})),t.forEach((function(e){var t=new f.Workflow(e.name);e.elements.forEach((function(e){"job"===e.type&&t.addJob(e.data.job,e.data.parameters)})),a.addWorkflow(t)})),r(a)}()},children:"Generate config.yml"})]})},D=r(37),J=function(){var e=b((function(e){return e.config}));return Object(j.jsxs)("div",{className:"bg-circle-gray-900 w-full h-full border-r-2 border-circle-green-light",children:[Object(j.jsx)("div",{className:"inline-flex border-b text-xl pt-4 pb-0 border-circle-gray-800 w-full font-bold",children:Object(j.jsx)("div",{className:"border-b-4 pl-4 pr-4 pb-2 w-max text-white border-circle-green",children:"CODE EDITOR"})}),Object(j.jsx)(D.a,{theme:"vs-dark",className:"h-96",defaultLanguage:"yaml",defaultValue:"",value:function(){var t=null===e||void 0===e?void 0:e.stringify(),r=null===t||void 0===t?void 0:t.match("# SDK Version: .*\n");if(t&&r&&r.index){var n=r.index+r[0].length;return t.substring(0,n)+"# VCE Version: 0.1.0\n# Modeled with the CircleCI visual config editor.\n# For more information, see https://github.com/CircleCI-Public/visual-config-editor\n"+t.substring(n,t.length)}return t}()})]})},M=r(17),A=r(13),V=r(38),q=r(76),z=function(e){var t=b((function(e){return e.workflows[e.selectedWorkflow].elements})),r=u((function(e){return e.addWorkflowElement})),n={x:0,y:0,zoom:1};return Object(j.jsx)("div",{className:"w-full h-full",onDragOver:function(e){e.dataTransfer.types.includes("workflow")&&e.preventDefault()},onDrop:function(e){if(e.dataTransfer.types.includes("workflow")){var t=JSON.parse(e.dataTransfer.getData("workflow")),a={x:e.clientX-15-n.x,y:e.clientY-45-n.y},c=function(e){return 15*Math.floor(e/15)/n.zoom};if(t){var o={data:t.data,connectable:!0,type:t.type,id:Object(q.a)(),position:{x:c(a.x),y:c(a.y)}};r(o)}}},children:Object(j.jsx)(g.f,{elements:t,className:e.className,onMove:function(e){e&&(n=e)},selectNodesOnDrag:!1,nodeTypes:Object.assign.apply(Object,[{}].concat(Object(V.a)(y.map((function(e){var t=e.dataType.node;return t?Object(A.a)({},t.type,t.component):null}))))),snapToGrid:!0,children:Object(j.jsx)(g.a,{variant:g.b.Dots,gap:15,color:"#A3A3A3",className:e.bgClassName,size:1})})})},Z=function(){var e=b((function(e){return e.workflows})),t=u((function(e){return e.addWorkflow})),r=u((function(e){return e.selectWorkflow}));return Object(j.jsxs)(M.d,{className:"w-full h-full flex flex-col bg-white",onSelect:function(e){return r(e)},children:[Object(j.jsxs)(M.b,{className:"inline-flex pl-2 pt-2",children:[null===e||void 0===e?void 0:e.map((function(e){return Object(j.jsx)(M.a,{className:"bg-circle-gray-200 w-max rounded-t-lg p-2 mr-2 cursor-pointer",children:Object(j.jsxs)("div",{className:"flex flex-row h-5",children:[Object(j.jsx)("svg",{className:"w-8",children:Object(j.jsx)("path",{d:"M13,12.0005 L13,14.5005 C13,15.8812153 14.1192847,17.0005 15.5,17.0005 C16.7716732,17.0005 17.8215783,16.0510253 17.9794794,14.8223119 C16.8252603,14.4045443 16,13.2985065 16,12.0005 C16,10.3434832 17.3434471,9.0005 19,9.0005 C20.6565529,9.0005 22,10.3434832 22,12.0005 C22,13.3107265 21.1591278,14.4253528 19.9878345,14.8339277 C19.8172144,17.1635097 17.8731367,19.0005 15.5,19.0005 C13.0147153,19.0005 11,16.9857847 11,14.5005 L11,12.0005 L11,9.4995 C11,8.11906389 9.88099443,7.0005 8.5,7.0005 C7.2278041,7.0005 6.17794274,7.94975945 6.020417,9.17853139 C7.17480406,9.5960731 8,10.7018409 8,12.0005 C8,13.6567847 6.65628475,15.0005 5,15.0005 C3.34371525,15.0005 2,13.6567847 2,12.0005 C2,10.6896797 2.84072326,9.57538027 4.01209968,9.16698275 C4.18228055,6.83714058 6.12646259,5.0005 8.5,5.0005 C10.9853872,5.0005 13,7.0143176 13,9.4995 L13,12.0005 Z M6,12.0005 C6,11.4482074 5.55213797,11.0005 5,11.0005 C4.44786203,11.0005 4,11.4482074 4,12.0005 C4,12.5522153 4.44828475,13.0005 5,13.0005 C5.55171525,13.0005 6,12.5522153 6,12.0005 Z M20,12.0005 C20,11.4482074 19.552138,11.0005 19,11.0005 C18.447862,11.0005 18,11.4482074 18,12.0005 C18,12.5522153 18.4482847,13.0005 19,13.0005 C19.5517153,13.0005 20,12.5522153 20,12.0005 Z"})}),Object(j.jsx)("p",{className:"text-lg",children:e.name})]})},e.id)})),Object(j.jsx)("button",{className:"bg-circle-blue transition-colors hover:bg-circle-blue-light text-white w-10 text-2xl rounded-t-lg p-1 mr-2 cursor-pointer",onClick:function(e){return t("new-workflow")},children:"+"})]}),null===e||void 0===e?void 0:e.map((function(e){return Object(j.jsx)(M.c,{selectedClassName:"flex-grow mr-4",children:Object(j.jsx)(z,{workflow:e,bgClassName:"bg-circle-gray-200",className:"ml-2 border-2 border-b-0 border-circle-gray-300"})},e.id)}))]})},_={inspect:Object(s.b)((function(e,t){e.inspecting=Object(p.a)({mode:"none",data:void 0,dataType:void 0},t)})),addWorkflow:Object(s.b)((function(e,t){e.workflows=e.workflows.concat({name:t,id:Object(q.a)(),elements:[]})})),selectWorkflow:Object(s.b)((function(e,t){e.selectedWorkflow=t})),removeWorkflow:Object(s.b)((function(e,t){e.workflows=e.workflows.filter((function(e){return e.id!==t.id}))})),addWorkflowElement:Object(s.b)((function(e,t){e.workflows[e.selectedWorkflow].elements.push(t)})),removeWorkflowElement:Object(s.b)((function(e,t){})),setWorkflowElements:Object(s.b)((function(e,t){e.workflows[e.selectedWorkflow].elements=t})),defineJob:Object(s.b)((function(e,t){var r;null===(r=e.definitions.jobs)||void 0===r||r.push(t)})),updateJob:Object(s.b)((function(e,t){if(e.definitions.jobs){var r=e.workflows[e.selectedWorkflow];r.elements=r.elements.map((function(e){return Object(g.g)(e)&&"job"===e.type&&e.data.job.name===t.old.name?Object(p.a)(Object(p.a)({},e),{},{data:Object(p.a)(Object(p.a)({},e.data),{},{job:t.new})}):e})),e.definitions.jobs=e.definitions.jobs.map((function(e){return e.name===t.old.name?t.new:e}))}})),undefineJob:Object(s.b)((function(e,t){var r;e.definitions.jobs=null===(r=e.definitions.jobs)||void 0===r?void 0:r.filter((function(e){return e.name===t.name}))})),defineExecutor:Object(s.b)((function(e,t){var r;e.definitions.executors=null===(r=e.definitions.executors)||void 0===r?void 0:r.concat(t)})),updateExecutor:Object(s.b)((function(e,t){e.definitions.executors})),undefineExecutor:Object(s.b)((function(e,t){var r;null===(r=e.definitions.jobs)||void 0===r||r.filter((function(e){return e.name!==t.name}))})),error:Object(s.b)((function(e,t){console.error("An action was not found! ",t)})),generateConfig:Object(s.b)((function(e,t){e.config=t}))},I=Object(p.a)({inspecting:{mode:"none"},selectedWorkflow:0,config:void 0,definitions:{commands:[],executors:[],jobs:[],workflows:[],parameters:[]},workflows:[{name:"build-and-test",elements:[],id:Object(q.a)()}]},_),P=function(){return Object(j.jsxs)(s.a,{store:Object(s.c)(I),children:[Object(j.jsx)(m,{}),Object(j.jsxs)(i.a,{split:"vertical",defaultSize:"75%",className:"bounds bg-circle-gray-300",resizerClassName:"z-0 w-1 h-full transition duration-500  hover:bg-circle-blue-light cursor-ew-resize",children:[Object(j.jsxs)(i.a,{split:"horizontal",defaultSize:"70%",minSize:"20%",resizerClassName:"pt-1 flex-col cursor-ns-resize transition duration-500 hover:bg-circle-blue-light",children:[Object(j.jsx)(Z,{}),Object(j.jsx)(J,{})]}),Object(j.jsx)(W,{})]})]})};r(74);o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(P,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.04d6ef9d.chunk.js.map